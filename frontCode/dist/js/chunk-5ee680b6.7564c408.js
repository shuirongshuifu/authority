(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ee680b6"],{"45f0":function(e,t,s){"use strict";s("b34f")},b34f:function(e,t,s){},dd7b:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"loginBox"},[t("div",{staticClass:"loginContent"},[t("el-select",{attrs:{clearable:"",size:"small",placeholder:"请选择角色登录"},on:{"visible-change":t=>{t&&e.listRoles()}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.roleList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.roleName+" ("+e.roleRemark+")",value:e.menuIds}})})),1),t("br"),t("span",[t("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-thumb",disabled:0==e.value.length},on:{click:e.loginIn}},[e._v("点击登录")])],1)],1)])},l=[],i=(s("149f"),s("a18c")),n=s("4360"),o={name:"login",data(){return{value:"",roleList:[]}},created(){this.listRoles()},methods:{async listRoles(){const e=await this.$auth.listRoles();0==e.code&&(this.roleList=e.data)},async loginIn(){const e=await this.$store.dispatch("menu/tree_menu",this.value);if(0==e.code){i["a"].addRoutes(n["a"].state.menu.routerTree);let e=this.roleList.findIndex(e=>e.menuIds==this.value);sessionStorage.setItem("username",this.roleList[e].roleName),this.$message({type:"success",message:"登录成功"}),this.$router.push({path:"/"})}}}},r=o,u=(s("45f0"),s("e607")),c=Object(u["a"])(r,a,l,!1,null,"03ea1ae8",null);t["default"]=c.exports}}]);