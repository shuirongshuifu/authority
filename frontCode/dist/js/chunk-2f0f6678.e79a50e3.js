(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f0f6678","chunk-3aa7aac7","chunk-22def3ee","chunk-5ee680b6"],{"02c8":function(e,t,a){"use strict";a("c175")},"059f":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[e._v("我是springBoot")])},r=[],l=a("e607"),i={},o=Object(l["a"])(i,s,r,!1,null,null,null);t["default"]=o.exports},"0f48":function(e,t,a){var s=a("d78c"),r=a("bc0e");e.exports=Object.keys||function(e){return s(e,r)}},2063:function(e,t,a){var s=a("9192"),r=a("065f"),l=a("9887"),i=a("20e2"),o=i("toStringTag"),n=Object,c="Arguments"==l(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(a){}};e.exports=s?l:function(e){var t,a,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(a=u(t=n(e),o))?a:c?l(t):"Object"==(s=l(t))&&r(t.callee)?"Arguments":s}},"221b":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("router-view")},r=[],l=a("e607"),i={},o=Object(l["a"])(i,s,r,!1,null,null,null);t["default"]=o.exports},"28e6":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[e._v("我是myBatis")])},r=[],l=a("e607"),i={},o=Object(l["a"])(i,s,r,!1,null,null,null);t["default"]=o.exports},3265:function(e,t,a){},3367:function(e,t,a){var s=a("1231");e.exports=s("document","documentElement")},"375e":function(e,t,a){var s,r=a("aaee"),l=a("59bb"),i=a("bc0e"),o=a("ad90"),n=a("3367"),c=a("c09a"),u=a("945b"),d=">",m="<",h="prototype",p="script",f=u("IE_PROTO"),v=function(){},b=function(e){return m+p+d+e+m+"/"+p+d},g=function(e){e.write(b("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){var e,t=c("iframe"),a="java"+p+":";return t.style.display="none",n.appendChild(t),t.src=String(a),e=t.contentWindow.document,e.open(),e.write(b("document.F=Object")),e.close(),e.F},w=function(){try{s=new ActiveXObject("htmlfile")}catch(t){}w="undefined"!=typeof document?document.domain&&s?g(s):y():g(s);var e=i.length;while(e--)delete w[h][i[e]];return w()};o[f]=!0,e.exports=Object.create||function(e,t){var a;return null!==e?(v[h]=r(e),a=new v,v[h]=null,a[f]=e):a=w(),void 0===t?a:l.f(a,t)}},"45f0":function(e,t,a){"use strict";a("b34f")},"4b07":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[e._v("安哥拉222")])},r=[],l={},i=l,o=a("e607"),n=Object(o["a"])(i,s,r,!1,null,null,null);t["default"]=n.exports},"54ac":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[t("span",[e._v("共用的动态组件：")]),t("h2",[e._v(" 根据 "),t("span",{staticClass:"val"},[e._v(e._s(e.val))]),e._v(" 的不同发相应请求 ")])])},r=[],l={data(){return{val:Object.values(this.$route.params)[0].slice(1)}},watch:{$route:{handler:function(){this.val=Object.values(this.$route.params)[0].slice(1)}}}},i=l,o=(a("92e9"),a("e607")),n=Object(o["a"])(i,s,r,!1,null,null,null);t["default"]=n.exports},"59bb":function(e,t,a){var s=a("58bc"),r=a("a9b1"),l=a("cea5"),i=a("aaee"),o=a("11c3"),n=a("0f48");t.f=s&&!r?Object.defineProperties:function(e,t){i(e);var a,s=o(t),r=n(t),c=r.length,u=0;while(c>u)l.f(e,a=r[u++],s[a]);return e}},"5d8a":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"menuWrap"},[t("div",{staticClass:"addBtnAndSearchBox"},[t("span",[t("el-button",{staticStyle:{margin:"12px 0 2px 0"},attrs:{type:"primary",size:"mini",icon:"el-icon-refresh"},on:{click:e.getMenu}},[e._v("重新请求")]),t("el-button",{staticStyle:{"margin-bottom":"6px"},attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.addMenuNode}},[e._v("新增")])],1),t("el-input",{staticStyle:{width:"240px"},attrs:{size:"mini",placeholder:"回车Enter键 搜索名称或url","prefix-icon":"el-icon-search",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getMenu.apply(null,arguments)}},model:{value:e.searchWord,callback:function(t){e.searchWord="string"===typeof t?t.trim():t},expression:"searchWord"}})],1),t("br"),e._m(0),t("br"),t("div",{staticClass:"tableBox"},[t("el-table",{directives:[{name:"load",rawName:"v-load",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,"row-key":"id",border:"","header-cell-style":{height:"48px",background:"#FAFAFA",color:"#333333",fontWeight:"bold",fontSize:"14px",width:"100%"},"default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[t("el-table-column",{attrs:{prop:"name",label:"名称",width:"240"}}),t("el-table-column",{attrs:{prop:"type",label:"类型",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(1===a.row.type?"菜单":"按钮"))])]}}])}),t("el-table-column",{attrs:{prop:"status",label:"状态",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"statusBox"},[t("span",{staticClass:"dot",class:e.statusCom(a.row.status)}),e._v(" "+e._s(1===a.row.status?"开启":"关闭"))])]}}])}),t("el-table-column",{attrs:{prop:"isHidden",label:"是否显示",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(e.isHiddenCom(a.row)))])]}}])}),t("el-table-column",{attrs:{prop:"url",label:"url(地址栏路径)",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"cUrl",label:"cUrl(组件路径)",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.editMenuNode(a.row)}}},[e._v("编辑")]),t("el-button",{staticStyle:{color:"red"},attrs:{type:"text"},on:{click:function(t){return e.deleteMenuNode(a.row.id)}}},[e._v("删除")])]}}])})],1)],1),t("my-dialog",{staticClass:"myDialogClass",attrs:{isShowDialog:e.myDialogObj.isShowDialog,title:e.myDialogObj.title,isShowFoot:!1},on:{"update:isShowDialog":function(t){return e.$set(e.myDialogObj,"isShowDialog",t)},"update:is-show-dialog":function(t){return e.$set(e.myDialogObj,"isShowDialog",t)}}},[t("div",{staticClass:"treeMenuOperation"},[t("el-form",{ref:"ruleForm",attrs:{size:"mini",model:e.form,"label-position":"right","label-width":"85px",rules:e.rules}},[t("el-form-item",{attrs:{label:"节点类型",prop:"type"}},[t("el-radio-group",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[t("el-radio",{attrs:{label:1}},[e._v("菜单")]),t("el-radio",{attrs:{label:2}},[e._v("按钮")])],1)],1),t("el-form-item",{attrs:{label:"上级节点",prop:"pids"}},[t("el-cascader",{attrs:{"show-all-levels":!1,options:e.treeOptions,props:{checkStrictly:!0,label:"name",value:"id"},clearable:"",placeholder:"请选择新增节点的上层节点"},model:{value:e.form.pids,callback:function(t){e.$set(e.form,"pids",t)},expression:"form.pids"}})],1),t("el-form-item",{attrs:{label:"名称",prop:"name"}},[t("el-input",{attrs:{clearable:"",placeholder:"无论菜单或是按钮都有名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),1==e.form.type?t("el-form-item",{attrs:{label:"url",prop:"url"}},[t("el-input",{attrs:{clearable:"",placeholder:"地址栏路径url，也是前端的path"},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1):e._e(),1==e.form.type?t("el-form-item",{attrs:{label:"cUrl",prop:"cUrl"}},[t("el-input",{attrs:{clearable:"",placeholder:"当地址栏访问url时，去对应渲染哪一个.vue文件"},model:{value:e.form.cUrl,callback:function(t){e.$set(e.form,"cUrl",t)},expression:"form.cUrl"}})],1):e._e(),t("el-form-item",{attrs:{label:"状态",prop:"status"}},[t("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[t("el-radio",{attrs:{label:1}},[e._v("开启")]),t("el-radio",{attrs:{label:2}},[e._v("关闭")])],1),t("span",{staticClass:"tips"},[e._v("【选择关闭，看不到菜单/按钮、地址栏也访问不到菜单，后端接口控制】")])],1),t("el-form-item",{attrs:{label:"是否显示",prop:"isHidden"}},[t("el-radio-group",{model:{value:e.form.isHidden,callback:function(t){e.$set(e.form,"isHidden",t)},expression:"form.isHidden"}},[t("el-radio",{attrs:{label:1}},[e._v("显示")]),t("el-radio",{attrs:{label:2}},[e._v("隐藏")])],1),t("span",{staticClass:"tips"},[e._v("【选择关闭，看不到菜单页面、但地址栏能访问到，前端v-if控制（按钮不生效）】")])],1),t("el-form-item",{attrs:{label:"是否缓存",prop:"isCache"}},[t("el-radio-group",{model:{value:e.form.isCache,callback:function(t){e.$set(e.form,"isCache",t)},expression:"form.isCache"}},[t("el-radio",{attrs:{label:1}},[e._v("缓存")]),t("el-radio",{attrs:{label:2}},[e._v("不缓存")])],1),t("span",{staticClass:"tips"},[e._v("【是否缓存菜单页面需使用vuex和keep-alive实现（按钮不生效）】")])],1),t("el-form-item",{attrs:{label:"排序",prop:"sort"}},[t("el-input-number",{attrs:{"controls-position":"right"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),t("el-form-item",{attrs:{label:"备注",prop:"remark"}},[t("el-input",{attrs:{type:"textarea",rows:2,maxlength:"60","show-word-limit":""},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("提交")]),t("el-button",{on:{click:e.closeDialog}},[e._v("取消")])],1)],1)],1)])],1)},r=[function(){var e=this,t=e._self._c;return t("h5",[t("div",[e._v(" 因为笔者只新建了两张表，所以如果更改了菜单的层级要去重新赋予一下角色相应的权限（角色管理勾选菜单即可） ")]),t("div",[e._v(" 三张表或者五张表倒是不会这样，真正后端同事去设计权限至少都是三张表（基本上五张表的） ")])])}],l=(a("a829"),a("fd03"),function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"animation"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowDialog,expression:"isShowDialog"}],staticClass:"dialogBox",class:{isShowMask:1==e.mask},on:{click:e.clickMaskCloseFn}},[t("div",{staticClass:"dialogBoxContent",on:{click:function(e){e.stopPropagation()}}},[t("div",{staticClass:"headhead"},[e._t("header",(function(){return[t("span",[e._v(e._s(e.title))])]})),t("i",{directives:[{name:"show",rawName:"v-show",value:e.showCloseIcon,expression:"showCloseIcon"}],staticClass:"el-icon-close",on:{click:e.close}})],2),t("div",{staticClass:"bodybody"},[e._t("default")],2),e.isShowFoot?t("div",{staticClass:"footfoot"},[t("span",[e._t("footer")],2)]):e._e()])])])}),i=[],o={name:"dialogComponent",props:{isShowDialog:{type:Boolean,default:!1},title:{type:String,default:""},showCloseIcon:{type:Boolean,default:!0},mask:{type:Boolean,default:!0},clickMaskClose:{type:Boolean,default:!1,require:!0},isShowFoot:{type:Boolean,default:!0}},data(){return{}},methods:{close(){this.$emit("update:isShowDialog",!1)},clickMaskCloseFn(){1==this.clickMaskClose&&this.$emit("beforeClose",!1)}}},n=o,c=(a("d46b"),a("e607")),u=Object(c["a"])(n,l,i,!1,null,"f681e8f4",null),d=u.exports,m={components:{myDialog:d},data(){return{searchWord:"",tableData:[],loading:!1,form:{type:1},treeOptions:[],rules:{type:{required:!0,message:"请选择节点类型"},name:{required:!0,message:"请填写名称"},pids:{required:!0,message:"请选择上级节点"},url:{required:!0,message:"请填写url"},cUrl:{required:!0,message:"请填写cUrl"},status:{required:!0,message:"请选择状态"},isHidden:{required:!0,message:"请选择页面是否显示"},isCache:{required:!0,message:"请选择页面是否缓存"}},myDialogObj:{isShowDialog:!1,title:""}}},watch:{searchWord(e){""==e&&this.getMenu()}},computed:{statusCom(){return e=>1===e?"open":"close"},isHiddenCom(){return e=>1==e.type?1===e.isHidden?"🤓 显示":"🙈 隐藏":2==e.type?"":void 0}},mounted(){this.getMenu()},methods:{async getMenu(){this.loading=!0;const e=await this.$auth.getAllMenu(this.searchWord);0==e.code&&(this.tableData=e.data,this.treeOptions=e.data,this.loading=!1)},addMenuNode(){this.myDialogObj.isShowDialog=!0,this.myDialogObj.title="新增菜单节点"},async editMenuNode(e){if(1==e.id)return void this.$message({type:"warning",message:"根节点就不用编辑啦"});const t=await this.$auth.queryMenuById(e.id);if(0==t.code){let e=t.data;e["pids"]=e.pids.split(",").map(e=>Number(e)),this.form=e,this.myDialogObj.isShowDialog=!0,this.myDialogObj.title="编辑菜单节点"}},deleteMenuNode(e){this.$confirm("确认删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{const t=await this.$auth.deleteMenu(e);0==t.code&&(this.getMenu(),this.$message({type:"success",message:"删除成功!"}))}).catch(()=>{})},onSubmit(e){this.$refs[e].validate(e=>{if(!e)return!1;"新增菜单节点"==this.myDialogObj.title?this.addSubmit():this.editSubmit()})},async addSubmit(){let e={...this.form};e.pid=e.pids.at(-1),e.pids=e.pids.toString();const t=await this.$auth.addMenu(e);0==t.code&&(this.$message({type:"success",message:"新增成功!"}),this.closeDialog(),this.getMenu())},async editSubmit(){let e={...this.form};e.pid=e.pids.at(-1),e.pids=e.pids.toString();const t=await this.$auth.editMenu(e);0==t.code&&(this.$message({type:"success",message:"编辑成功!"}),this.closeDialog(),this.getMenu())},closeDialog(){this.myDialogObj.isShowDialog=!1,this.$refs["ruleForm"].resetFields(),this.form={type:1}}}},h=m,p=(a("a46b"),Object(c["a"])(h,s,r,!1,null,"75f70acf",null));t["default"]=p.exports},"610c":function(e,t,a){},6511:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[t("el-button",{staticStyle:{"margin-bottom":"12px"},attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-right"},on:{click:e.allVueRouterInScopes}},[e._v("点击，控制台查看所有路由")]),t("br"),t("el-button",{staticStyle:{"margin-bottom":"12px"},attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-right"},on:{click:e.elMenuTree}},[e._v("el-menu需要的菜单树")]),t("br"),t("el-button",{staticStyle:{"margin-bottom":"12px"},attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-right"},on:{click:e.vueRouterTree}},[e._v("vue-router需要的路由树（表）")]),t("br"),t("el-button",{staticStyle:{"margin-bottom":"12px"},attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-right"},on:{click:e.btnTree}},[e._v("按钮需要的按钮菜单树")]),t("br"),t("br"),e._m(0)],1)},r=[function(){var e=this,t=e._self._c;return t("code",{staticClass:"codeC"},[e._v(" 所有菜单结构如下： "),t("pre",[e._v("        首页\n        前端框架\n            vue页面\n            react页面\n            angular\n                agl1\n                agl2\n        后端框架\n            springBoot\n            myBatis\n            特工001\n            特工002\n        系统设置\n            角色管理\n            菜单管理\n    ")])])}],l={methods:{allVueRouterInScopes(){console.log("查看作用域中的所有的路由：[[Scopes]].[0].pathList"),console.dir(this.$router.matcher.addRoutes)},elMenuTree(){console.log("el-menu需要的菜单树",this.$store.state.menu.menuTree)},vueRouterTree(){console.log("vue-router需要的路由树（表）",this.$store.state.menu.routerTree)},btnTree(){console.log("按钮需要的按钮菜单树",JSON.parse(sessionStorage.getItem("btnAuthObj")))}}},i=l,o=(a("afd4"),a("e607")),n=Object(o["a"])(i,s,r,!1,null,null,null);t["default"]=n.exports},7574:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("router-view")},r=[],l=a("e607"),i={},o=Object(l["a"])(i,s,r,!1,null,null,null);t["default"]=o.exports},"8cdb":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"fourZeroFour"},[t("h1",[e._v("找不到这个页面😭")]),t("br"),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.goHome}},[e._v("返回首页")])],1)},r=[],l={methods:{goHome(){this.$router.replace({path:"/home"})}}},i=l,o=(a("9ee0"),a("e607")),n=Object(o["a"])(i,s,r,!1,null,null,null);t["default"]=n.exports},9192:function(e,t,a){var s=a("20e2"),r=s("toStringTag"),l={};l[r]="z",e.exports="[object z]"===String(l)},"92e9":function(e,t,a){"use strict";a("9b4e")},"984d":function(e,t,a){var s=a("20e2"),r=a("375e"),l=a("cea5").f,i=s("unscopables"),o=Array.prototype;void 0==o[i]&&l(o,i,{configurable:!0,value:r(null)}),e.exports=function(e){o[i][e]=!0}},"98e2":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this;e._self._c;return e._m(0)},r=[function(){var e=this,t=e._self._c;return t("div",[t("img",{staticClass:"reactC",attrs:{src:a("db88"),alt:""}})])}],l={name:"CodeReact",data(){return{}},mounted(){},methods:{}},i=l,o=(a("9ee04"),a("e607")),n=Object(o["a"])(i,s,r,!1,null,"1adf199a",null);t["default"]=n.exports},"9b4e":function(e,t,a){},"9ee0":function(e,t,a){"use strict";a("3265")},"9ee04":function(e,t,a){"use strict";a("b2d9")},a46b:function(e,t,a){"use strict";a("610c")},a47a:function(e,t,a){var s=a("2063"),r=String;e.exports=function(e){if("Symbol"===s(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},a829:function(e,t,a){"use strict";var s=a("6dec"),r=a("c197"),l=a("1cc9"),i=a("350d"),o=a("984d");s({target:"Array",proto:!0},{at:function(e){var t=r(this),a=l(t),s=i(e),o=s>=0?s:a+s;return o<0||o>=a?void 0:t[o]}}),o("at")},a8c4:function(e,t,a){var s={"./views/404":"8cdb","./views/404.vue":"8cdb","./views/backend/dynamicComponent":"54ac","./views/backend/dynamicComponent.vue":"54ac","./views/backend/myBatis":"28e6","./views/backend/myBatis.vue":"28e6","./views/backend/springBoot":"059f","./views/backend/springBoot.vue":"059f","./views/frontend/aglOne":"da76","./views/frontend/aglOne.vue":"da76","./views/frontend/aglTwo":"4b07","./views/frontend/aglTwo.vue":"4b07","./views/frontend/angular":"221b","./views/frontend/angular.vue":"221b","./views/frontend/react":"98e2","./views/frontend/react.vue":"98e2","./views/frontend/vue":"c640","./views/frontend/vue.vue":"c640","./views/home":"6511","./views/home.vue":"6511","./views/login":"dd7b","./views/login.vue":"dd7b","./views/system/menu":"5d8a","./views/system/menu.vue":"5d8a","./views/system/role":"f982","./views/system/role.vue":"f982","./views/system/user":"b979","./views/system/user.vue":"b979","./views/viewLayer":"7574","./views/viewLayer.vue":"7574"};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=l,e.exports=r,r.id="a8c4"},afd4:function(e,t,a){"use strict";a("b787")},b2d9:function(e,t,a){},b34f:function(e,t,a){},b787:function(e,t,a){},b979:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[e._v(" 用户表可以理解为是角色表的细化... ")])},r=[],l={},i=l,o=a("e607"),n=Object(o["a"])(i,s,r,!1,null,null,null);t["default"]=n.exports},c175:function(e,t,a){},c640:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[t("span",[t("svg",{staticClass:"logo",attrs:{viewBox:"0 0 128 128",width:"24",height:"24","data-v-e0ef77de":""}},[t("path",{attrs:{fill:"#42b883",d:"M78.8,10L64,35.4L49.2,10H0l64,110l64-110C128,10,78.8,10,78.8,10z","data-v-e0ef77de":""}}),t("path",{attrs:{fill:"#35495e",d:"M78.8,10L64,35.4L49.2,10H25.6L64,76l38.4-66H78.8z","data-v-e0ef77de":""}})])]),t("br"),t("br"),t("el-button",{directives:[{name:"btn",rawName:"v-btn",value:{"vue页面":"新增vue"},expression:"{ vue页面: '新增vue' }"}],attrs:{type:"primary"}},[e._v("新增vue")]),t("el-button",{directives:[{name:"btn",rawName:"v-btn",value:{"vue页面":"编辑vue"},expression:"{ vue页面: '编辑vue' }"}],attrs:{type:"primary"}},[e._v("编辑vue")]),e.isShowDeleteBtn?t("el-button",{attrs:{type:"danger"}},[e._v("删除vue")]):e._e()],1)},r=[],l=a("ed08"),i={name:"CodeVue",data(){return{}},computed:{isShowDeleteBtn(){return Object(l["b"])("vue页面","删除vue")}}},o=i,n=a("e607"),c=Object(n["a"])(o,s,r,!1,null,"3fe4e3b3",null);t["default"]=c.exports},d46b:function(e,t,a){"use strict";a("f079")},da76:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[t("h5",[e._v("安哥拉111")]),t("br"),t("el-button",{directives:[{name:"btn",rawName:"v-btn",value:{agl1:"agl1新增/编辑"},expression:"{ agl1: 'agl1新增/编辑' }"}],attrs:{type:"primary"}},[e._v("agl1新增/编辑")]),t("el-button",{directives:[{name:"btn",rawName:"v-btn",value:{agl1:"agl1删除"},expression:"{ agl1: 'agl1删除' }"}],attrs:{type:"danger"}},[e._v("agl1删除")])],1)},r=[],l={},i=l,o=a("e607"),n=Object(o["a"])(i,s,r,!1,null,null,null);t["default"]=n.exports},db88:function(e,t,a){e.exports=a.p+"img/react.e96612ec.png"},dd7b:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"loginBox"},[t("div",{staticClass:"loginContent"},[t("el-select",{attrs:{clearable:"",size:"small",placeholder:"请选择角色登录"},on:{"visible-change":t=>{t&&e.listRoles()}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.roleList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.roleName+" ("+e.roleRemark+")",value:e.menuIds}})})),1),t("br"),t("span",[t("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-thumb",disabled:0==e.value.length},on:{click:e.loginIn}},[e._v("点击登录")])],1)],1)])},r=[],l=(a("149f"),a("a18c")),i=a("4360"),o={name:"login",data(){return{value:"",roleList:[]}},created(){this.listRoles()},methods:{async listRoles(){const e=await this.$auth.listRoles();0==e.code&&(this.roleList=e.data)},async loginIn(){const e=await this.$store.dispatch("menu/tree_menu",this.value);if(0==e.code){l["a"].addRoutes(i["a"].state.menu.routerTree);let e=this.roleList.findIndex(e=>e.menuIds==this.value);sessionStorage.setItem("username",this.roleList[e].roleName),this.$message({type:"success",message:"登录成功"}),this.$router.push({path:"/"})}}}},n=o,c=(a("45f0"),a("e607")),u=Object(c["a"])(n,s,r,!1,null,"03ea1ae8",null);t["default"]=u.exports},f079:function(e,t,a){},f982:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"roleWrap"},[t("div",{staticClass:"roleSearchAndAdd"},[t("span",[t("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.addRole}},[e._v("新增角色")])],1),t("el-input",{staticStyle:{width:"240px"},attrs:{size:"mini",placeholder:"回车Enter键 搜索角色信息","prefix-icon":"el-icon-search",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getTableData.apply(null,arguments)}},model:{value:e.searchWord,callback:function(t){e.searchWord="string"===typeof t?t.trim():t},expression:"searchWord"}})],1),t("br"),t("h3",{staticStyle:{color:"#f0f"}},[e._v(" 大家不要修改笔者的超级管理员角色，可以自己新建角色，然后赋予菜单权限看效果 ")]),t("br"),t("div",{staticClass:"roleTable"},[t("el-table",{directives:[{name:"load",rawName:"v-load",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,"row-key":"id",border:"","header-cell-style":{height:"48px",background:"#FAFAFA",color:"#333333",fontWeight:"bold",fontSize:"14px",width:"100%"}}},[t("el-table-column",{attrs:{type:"index",width:"120",label:"角色序号",align:"center"}}),t("el-table-column",{attrs:{prop:"roleName",label:"角色名称",align:"center"}}),t("el-table-column",{attrs:{prop:"menuIds",label:"角色菜单id",align:"center"}}),t("el-table-column",{attrs:{prop:"roleRemark",label:"角色备注",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{disabled:1==a.row.id,type:"text"},on:{click:function(t){return e.editRole(a.row)}}},[e._v("编辑")]),t("el-button",{style:{color:1==a.row.id?"":"red"},attrs:{disabled:1==a.row.id,type:"text"},on:{click:function(t){return e.deleteRole(a.row.roleId)}}},[e._v("删除")])]}}])})],1)],1),t("el-drawer",{attrs:{title:e.drawerObj.title,visible:e.drawerObj.drawer,direction:"rtl"},on:{"update:visible":function(t){return e.$set(e.drawerObj,"drawer",t)}}},[t("span",{staticClass:"drawTitle",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(e.drawerObj.title)+" ")]),t("div",{staticClass:"drawContent"},[t("div",{staticClass:"drawContentItem"},[t("div",{staticClass:"label"},[e._v("角色名称")]),t("el-input",{attrs:{size:"small",placeholder:"请填写角色名称(必填)",clearable:""},model:{value:e.roleObj.roleName,callback:function(t){e.$set(e.roleObj,"roleName",t)},expression:"roleObj.roleName"}})],1),t("div",{staticClass:"drawContentItem"},[t("div",{staticClass:"label"},[e._v("角色备注")]),t("el-input",{attrs:{size:"small",placeholder:"请填写角色备注(选填)",clearable:""},model:{value:e.roleObj.roleRemark,callback:function(t){e.$set(e.roleObj,"roleRemark",t)},expression:"roleObj.roleRemark"}})],1),t("div",{staticClass:"drawContentTree"},[t("div",{staticClass:"info"},[t("span",[t("div",[e._v("给角色赋予菜单/按钮权限")]),t("div",{staticClass:"info2"},[e._v("树结构勾选")])]),t("el-button",{attrs:{icon:"el-icon-finished",size:"mini",type:"primary"},on:{click:e.valideteSaveRoleRight}},[e._v("保存")])],1),t("el-tree",{ref:"tree",attrs:{props:e.propsSetting,"show-checkbox":"",data:e.menuTreeList,"node-key":"id","check-strictly":!1,"default-checked-keys":e.checked_keys,"default-expand-all":""},on:{check:e.checkTree}})],1)])])],1)},r=[],l=(a("149f"),{data(){return{propsSetting:{value:"id",label:"name",children:"children",disabled:(e,t)=>2==e.status},searchWord:"",tableData:[],loading:!1,drawerObj:{title:"",drawer:!1},roleObj:{roleName:"",roleRemark:""},menuTreeList:[],checked_keys:[],hasCheckedKeys:[]}},created(){this.getTableData(),this.getMenu()},watch:{searchWord(e){""==e&&this.getTableData()}},methods:{async getTableData(){this.loading=!0;const e=await this.$auth.listRoles(this.searchWord);0==e.code&&(this.tableData=e.data,this.loading=!1)},async getMenu(){const e=await this.$auth.getAllMenu(this.searchWord);0==e.code&&(this.menuTreeList=e.data)},addRole(){this.drawerObj.title="添加角色权限",this.drawerObj.drawer=!0},editRole(e){if(console.log("row",e),29===e.roleId)return void this.$message({type:"error",message:"超级管理员不允许编辑，请自己新建角色并赋予菜单树权限",duration:5e3});this.drawerObj.title="编辑角色权限",this.drawerObj.drawer=!0;let t={...e};this.roleObj.roleName=t.roleName,this.roleObj.roleRemark=t.roleRemark,this.roleObj.roleId=t.roleId,""!=t.menuIds&&this.echoTree(t.menuIds.split(","))},echoTree(e){this.$nextTick(()=>{const t=[];e.forEach(e=>{this.$refs.tree.getNode(e).childNodes&&this.$refs.tree.getNode(e).childNodes.length||t.push(e)}),this.$refs.tree.setCheckedKeys(t)})},deleteRole(e){this.$confirm("请确认是否删除角色?","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(async()=>{const t=await this.$auth.deleteRole(e);0==t.code&&(this.$message({type:"success",message:"删除成功!"}),this.getTableData())}).catch(()=>{})},async valideteSaveRoleRight(){""!=this.roleObj.roleName?this.saveRoleRight():this.$message({type:"warning",message:"角色名必须填写(备注可以不填写)"})},async saveRoleRight(){if("添加角色权限"==this.drawerObj.title){let e={roleName:this.roleObj.roleName,roleRemark:this.roleObj.roleRemark,menuIds:this.hasCheckedKeys.toString()};const t=await this.$auth.addRole(e);0==t.code&&(this.$message({type:"success",message:"角色新增成功"}),this.getTableData(),this.reset())}if("编辑角色权限"==this.drawerObj.title){let e={roleId:this.roleObj.roleId,roleName:this.roleObj.roleName,roleRemark:this.roleObj.roleRemark,menuIds:this.hasCheckedKeys.toString()};const t=await this.$auth.editRole(e);0==t.code&&(this.$message({type:"success",message:"角色编辑成功"}),this.getTableData(),this.reset())}},checkTree(e,t){this.hasCheckedKeys=[...this.$refs.tree.getHalfCheckedKeys(),...this.$refs.tree.getCheckedKeys()]},reset(){this.drawerObj.drawer=!1,this.hasCheckedKeys=[],this.roleObj={roleName:"",roleRemark:""},this.$refs.tree.setCheckedKeys([])}}}),i=l,o=(a("02c8"),a("e607")),n=Object(o["a"])(i,s,r,!1,null,"3c345e67",null);t["default"]=n.exports},fd03:function(e,t,a){"use strict";var s=a("6dec"),r=a("2774"),l=a("688d"),i=a("350d"),o=a("a47a"),n=a("bd71"),c=r("".charAt),u=n((function(){return"\ud842"!=="𠮷".at(-2)}));s({target:"String",proto:!0,forced:u},{at:function(e){var t=o(l(this)),a=t.length,s=i(e),r=s>=0?s:a+s;return r<0||r>=a?void 0:c(t,r)}})}}]);